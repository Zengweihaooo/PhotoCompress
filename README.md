# Photo Compress & Location Sync

一个用于压缩数码相机照片并同步手机照片位置信息的Web应用程序。

## 功能特性

- 📸 **照片压缩**: 压缩数码相机照片以节省存储空间
- 📱 **位置同步**: 根据拍摄时间匹配手机照片，同步GPS位置信息
- 🎨 **现代化界面**: 美观易用的拖拽上传界面
- ⚙️ **自定义设置**: 可调节压缩质量、尺寸和输出格式
- 📊 **处理进度**: 实时显示处理进度和日志
- 💾 **批量下载**: 支持单个或批量下载处理后的照片

## 🚀 快速启动

### 方法1：一键启动（推荐）
双击 `PhotoCompress.command` 文件，自动启动服务并显示访问地址。

### 方法2：终端启动
```bash
cd PhotoCompress
./start.sh
```

### 方法3：手动启动
```bash
cd PhotoCompress
python3 -m http.server 8000 --bind 0.0.0.0
```

## 📱 多设备使用

### 获取访问地址
启动后会显示：
- **Mac访问**: http://localhost:8000
- **手机访问**: http://你的IP:8000 (例如: http://172.17.17.76:8000)

### 使用步骤
1. **在手机上**: 访问IP地址，选择照片提取元数据
2. **在Mac上**: 访问localhost，压缩照片并应用元数据

### 2. 上传照片

- **数码相机照片**: 拖拽或点击上传需要压缩的相机照片
- **手机照片**: 上传包含GPS位置信息的手机照片用于同步

### 3. 调整设置

- **压缩质量**: 10-100% (默认80%)
- **最大尺寸**: 设置输出照片的最大宽度和高度
- **输出格式**: JPEG、WebP或PNG

### 4. 开始处理

- **仅压缩**: 只压缩数码相机照片
- **压缩+位置同步**: 压缩照片并根据时间匹配同步位置信息

### 5. 下载结果

处理完成后可以单个下载或批量下载所有处理后的照片。

## 技术实现

- **前端**: HTML5、CSS3、JavaScript (ES6+)
- **图片处理**: Canvas API 进行客户端压缩
- **文件操作**: File API 和 Blob API
- **EXIF处理**: 计划集成 exif-js 和 piexifjs 库

## 项目结构

```
PhotoCompress/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── script.js           # 主要JavaScript逻辑
├── package.json        # 项目配置
└── README.md          # 项目说明
```

## 开发计划

### 第一阶段 ✅
- [x] 创建可视化界面
- [x] 实现基本的文件上传功能
- [x] 实现照片压缩功能
- [x] 添加进度显示和日志

### 第二阶段 (计划中)
- [ ] 集成EXIF数据读取库
- [ ] 实现真实的GPS位置信息提取
- [ ] 实现位置信息写入压缩后的照片
- [ ] 添加时间匹配算法优化

### 第三阶段 (计划中)
- [ ] 添加批处理优化
- [ ] 支持更多图片格式
- [ ] 添加预览功能
- [ ] 优化用户体验

## 注意事项

- 当前版本的位置同步功能为演示版本，实际的EXIF数据处理需要额外的库支持
- 建议在本地环境下使用，避免上传敏感照片到公共服务器
- 大批量照片处理可能需要较长时间，请耐心等待

## 许可证

MIT License
